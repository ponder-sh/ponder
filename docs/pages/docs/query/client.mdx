---
title: "Client"
description: "Query a Ponder app with the `@ponder/client` package."
---

import { Callout, Steps, Tabs } from "nextra/components";

# `@ponder/client`

The `@ponder/client` package is a TypeScript client for querying a Ponder app with end-to-end type safety.

## Example projects

These example apps demonstrate how to use `@ponder/client`.

- [**Basic**](https://github.com/ponder-sh/ponder/blob/v0.9/examples/with-client/client/src/index.ts)
- [**NextJs**](https://github.com/ponder-sh/ponder/blob/v0.9/examples/with-nextjs/frontend/src/hooks/useDeposits.ts)

## Get started

<Steps>

### Update to `>=0.9.0`

`@ponder/client` is available starting from version `0.9.0`. Read the [migration guide](/docs/migration-guide#090) for more details.

### Register client middleware

Register the `client` middleware to enable client queries.

```ts filename="src/api/index.ts" {7}
import { db } from "ponder:api";
import { Hono } from "hono";
import { client } from "ponder";

const app = new Hono();

app.use(client({ db }));

export default app;
```

### Install `@ponder/client`

Install the `@ponder/client` package in your client project. This package works in any JavaScript environment, including the browser, server-side scripts, and both client and server code from web frameworks like Next.js.

{/* prettier-ignore */}
<Tabs items={["pnpm", "yarn", "npm"]}>
  <Tabs.Tab>
    ```bash filename="shell"
    pnpm add @ponder/client
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```bash filename="shell"
    yarn add @ponder/client
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```bash filename="shell"
    npm add @ponder/client
    ```
  </Tabs.Tab>
</Tabs>

### Create a client and send a request

Create a client using the root path of your Ponder server. For example, local development should use `http://localhost:42069`.

```ts {4,6}
import { createClient } from "@ponder/client";
import * as schema from "../../ponder/ponder.schema";

const client = createClient("https://...", { schema });

const result = await client.db.select().from(schema.account).limit(10);
```

</Steps>

## API reference

### `client.db`

This method uses a readonly database role, with strict query limits. It provides a Drizzle query builder, similar to [API functions](/docs/query/api-functions#query-the-database).

```ts
import { createClient } from "@ponder/client";
import * as schema from "../../ponder/ponder.schema";

const client = createClient("https://...", { schema });

const result = await client.db.select().from(schema.account).limit(10);
```

### `client.live`

Subscribe to live updates.

```ts
import { createClient } from "@ponder/client";
import * as schema from "../../ponder/ponder.schema";

const client = createClient("https://...", { schema });

const { unsubscribe } = client.live(
  (db) => db.select().from(schema.account),
  (result) => {
    // ...
  },
  (error) => {
    // ...
  }
);
```

### Status

The `status` table contains information about the indexing status of each chain.

```ts {7}
import { createClient, status } from "@ponder/client";

const client = createClient("https://...");

const mainnetStatus = client.db
  .select()
  .from(status)
  .where(eq(status.chainId, 1));
```

### `@ponder/react`

<Callout type="default">
  For an example of how to use `@ponder/client` with `@tanstack/react-query` for
  an automatically updating React hook, see the [Next.js
  example](https://github.com/ponder-sh/ponder/blob/af25a96b44c0d76e6e4e62557125fe50bc0cad8a/examples/with-nextjs/frontend/src/hooks/useDeposits.ts).
</Callout>

Coming soon.
